{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import { gallery } from \"../main\"\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function clear() {\n    gallery.innerHTML = '';\n}\n\nexport function createLoader() {\n    gallery.innerHTML += '<span class=\"loader\"></span>';\n}\n\nexport function removeLoader() {\n    document.querySelector('.loader').remove()\n}\n\nexport function createLeanMore(onclick) {\n    gallery.innerHTML += '<button type=\"button\" class=\"leanMore\">Lean more</button>';\n    document.querySelector('.leanMore').addEventListener('click', onclick)\n}\nexport function removeLeanMore() {\n    document.querySelector('.leanMore').remove();\n}\n\nexport function galleryRender(photos) {\n    let innerHTML = '';\n    if (photos.hits.length == 0) {\n        iziToast.error({\n            position: \"topRight\",\n            message: \"Sorry, there are no images matching your search query. Please try again!\"\n        });\n    }\n    else {\n        photos.hits.forEach(elem => {\n            innerHTML +=\n                `<div class=\"gallery-card\">\n                <a href=\"${elem.largeImageURL}\"><img src=\"${elem.webformatURL}\" width=\"360px\" alt=\"${elem.tags}\"></a>\n                <ul class=\"card-list\">\n                    <li><p>Likes:</p><p>${elem.likes}</p></li>\n                    <li><p>Views:</p><p>${elem.views}</p></li>\n                    <li><p>Comments:</p><p>${elem.comments}</p></li>\n                    <li><p>Downloads:</p><p>${elem.downloads}</p></li>\n                </ul>\n            </div>`;\n        });\n    }\n    gallery.innerHTML += innerHTML;\n    new SimpleLightbox('.gallery-card a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    }).refresh()\n}","import axios from \"axios\";\n\nexport async function request(searchValue, pageNum) {\n    return await axios.get(`https://pixabay.com/api/`, {\n        params: {\n            per_page: 15,\n            page: pageNum,\n            key: '44001471-3db462177f0e91bc0a7989cfe',\n            q: searchValue,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'safe'\n        }\n    });\n}","import { removeLoader, createLoader, galleryRender, createLeanMore, removeLeanMore } from \"./js/render-functions\";\nimport { request } from \"./js/pixabay-api\";\n\nexport const gallery = document.querySelector('.gallery');\nexport const searchBar = document.querySelector('.search-bar');\nexport const searchInput = document.querySelector('.search-bar input');\n\nlet pageNumber = 1;\nlet searchValue = \"\";\n\nsearchBar.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    console.log('11')\n    if (searchInput.value == '' || searchInput.value == ' ') {\n        return;\n    }\n    createLoader();\n    searchValue = searchInput.value;\n    pageNumber = 1;\n\n    const photos = await request(searchValue, pageNumber)\n        .then(response => { return response.data })\n        .catch(error => console.log(error));\n    \n    pageNumber += 1;\n    \n    galleryRender(photos);\n    removeLoader();\n    createLeanMore(leanMoreClick);\n\n    e.target.reset();\n});\n\nasync function leanMoreClick() {\n    createLoader();\n    removeLeanMore();\n\n    const photos = await request(searchValue, pageNumber)\n        .then(response => { return response.data })\n        .catch(error => console.log(error));\n    \n    pageNumber += 1;\n    \n    galleryRender(photos);\n    removeLoader();\n    createLeanMore(leanMoreClick);\n}"],"names":["createLoader","gallery","removeLoader","createLeanMore","onclick","removeLeanMore","galleryRender","photos","innerHTML","iziToast","elem","SimpleLightbox","request","searchValue","pageNum","axios","searchBar","searchInput","pageNumber","e","response","error","leanMoreClick"],"mappings":"owBAYO,SAASA,GAAe,CAC3BC,EAAQ,WAAa,8BACzB,CAEO,SAASC,GAAe,CAC3B,SAAS,cAAc,SAAS,EAAE,OAAQ,CAC9C,CAEO,SAASC,EAAeC,EAAS,CACpCH,EAAQ,WAAa,4DACrB,SAAS,cAAc,WAAW,EAAE,iBAAiB,QAASG,CAAO,CACzE,CACO,SAASC,GAAiB,CAC7B,SAAS,cAAc,WAAW,EAAE,OAAM,CAC9C,CAEO,SAASC,EAAcC,EAAQ,CAClC,IAAIC,EAAY,GACZD,EAAO,KAAK,QAAU,EACtBE,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EACrB,CAAS,EAGDF,EAAO,KAAK,QAAQG,GAAQ,CACxBF,GACI;AAAA,2BACWE,EAAK,aAAa,eAAeA,EAAK,YAAY,wBAAwBA,EAAK,IAAI;AAAA;AAAA,0CAEpEA,EAAK,KAAK;AAAA,0CACVA,EAAK,KAAK;AAAA,6CACPA,EAAK,QAAQ;AAAA,8CACZA,EAAK,SAAS;AAAA;AAAA,mBAG5D,CAAS,EAELT,EAAQ,WAAaO,EACrB,IAAIG,EAAe,kBAAmB,CAClC,aAAc,MACd,aAAc,GACjB,CAAA,EAAE,QAAS,CAChB,CCrDO,eAAeC,EAAQC,EAAaC,EAAS,CAChD,OAAO,MAAMC,EAAM,IAAI,2BAA4B,CAC/C,OAAQ,CACJ,SAAU,GACV,KAAMD,EACN,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,CACL,CCXO,MAAMZ,EAAU,SAAS,cAAc,UAAU,EAC3Ce,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,mBAAmB,EAErE,IAAIC,EAAa,EACbL,EAAc,GAElBG,EAAU,iBAAiB,SAAU,MAAOG,GAAM,CAG9C,GAFAA,EAAE,eAAc,EAChB,QAAQ,IAAI,IAAI,EACZF,EAAY,OAAS,IAAMA,EAAY,OAAS,IAChD,OAEJjB,IACAa,EAAcI,EAAY,MAC1BC,EAAa,EAEb,MAAMX,EAAS,MAAMK,EAAQC,EAAaK,CAAU,EAC/C,KAAKE,GAAqBA,EAAS,IAAM,EACzC,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEtCH,GAAc,EAEdZ,EAAcC,CAAM,EACpBL,IACAC,EAAemB,CAAa,EAE5BH,EAAE,OAAO,OACb,CAAC,EAED,eAAeG,GAAgB,CAC3BtB,IACAK,IAEA,MAAME,EAAS,MAAMK,EAAQC,EAAaK,CAAU,EAC/C,KAAKE,GAAqBA,EAAS,IAAM,EACzC,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EAEtCH,GAAc,EAEdZ,EAAcC,CAAM,EACpBL,IACAC,EAAemB,CAAa,CAChC"}